@model AgenziaSpedizioni.Models.VisualizzaStatoViewModel
<!--VisualizzaStatoViewModel è un modello che contiene i campi IDSpedizione, codFisc e PIva e una lista di StatoSpedizione-->

@using (Html.BeginForm("VisualizzaStato", "Spedizioni", FormMethod.Post))
{
    <div class="form-group">
        @Html.LabelFor(model => model.IDSpedizione, htmlAttributes: new { @class = "control-label" })
        @Html.EditorFor(model => model.IDSpedizione, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(model => model.IDSpedizione, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.codFisc, htmlAttributes: new { @class = "control-label" })
        @Html.EditorFor(model => model.codFisc, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(model => model.codFisc, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.PIva, htmlAttributes: new { @class = "control-label" })
        @Html.EditorFor(model => model.PIva, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(model => model.PIva, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <input type="submit" value="Visualizza Stato" class="btn btn-info my-3" />
    </div>
}
@*qua visualizzo la lista di stati spedizione*@
@if (Model.StatiSpedizione != null && Model.StatiSpedizione.Count > 0)
{
    <h2>Stati Spedizione:</h2>
    <table class="table">
        <thead>
            <tr>
                <th>IDStatoSpedizione</th>
                <th>IDSpedizione</th>
                <th>Stato</th>
                <th>Luogo</th>
                <th>Descrizione</th>
                <th>DataOraAggiornamento</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var stato in Model.StatiSpedizione)
            {
                <tr>
                    <td>@stato.IDStatoSpedizione</td>
                    <td>@stato.IDSpedizione</td>
                    <td>@stato.Stato</td>
                    <td>@stato.Luogo</td>
                    <td>@stato.Descrizione</td>
                    <td>@stato.DataOraAggiornamento</td>
                </tr>
            }
        </tbody>
    </table>
}
